<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js"></script>
    <meta charset="utf-8" />
    <meta name="language" content="korean" />
    <meta httpEquiv="content-type" content="text/html" />
    <meta name="author" content="Yewon Jang" />
    <meta name="designer" content="Yewon Jang" />
    <meta name="publisher" content="Yewon Jang" />

    <title>meme project</title>
    <meta name="description" content="meme project by yewon jang" />
    <meta name="keywords" content="meme, web, art, web art" />
    <meta name="robots" content="index,follow" />
    <meta name="distribution" content="web" />

    <meta name="og:title" content="meme project" />
    <meta name="og:type" content="site" />
    <meta name="og:url" content="https://www.memeproject.site/" />
    <meta name="og:image" content="/icons/share.png" />

    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
    <link
      rel="apple-touch-icon"
      sizes="16x16"
      href="/icons/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="32x32"
      href="/icons/favicon-32x32.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/icons/apple-touch-icon.png"
    />
    <link rel="manifest" href="/manifest.json" />
    <link rel="mask-icon" color="#000000" href="/icons/logo.svg" />
    <link rel="apple-touch-startup-image" href="/icons/logo.png" />
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1, initial-scale=1.0"
    />
    <meta name="theme-color" content="#FFF" />
    <link rel="shortcut icon" href="/icons/favicon.ico" />
    <link rel="stylesheet" href="./style.css" />
    <link
      href="https://cdn.jsdelivr.net/gh/sun-typeface/SUITE/fonts/static/woff2/SUITE.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <div class="Rectangle-18"></div>
    <main>
    <div class="input1">
        <input type="text" id="firstname" value="Funny">
        <button id="button2" type="button">Search</button>
        <div id = "result">
            <img src="">
            <img src="">
            <img src="">
            <img src="">
            <img src="">
            <img src="">
            <img src="">
            <img src="">
        </div>
    </div>
    <div class="input2"><input type="text" id="textinput" value="캡션을 달아주세요.">
    </div>
    <div class="title3">MEME Project</div>
    <span class="explain2">
        <span class="Text-Style">밈이란?<br><br></span>
        인간에게는 2가지 복제자가 있습니다. 하나는 우리의 유전자로, 유전자는 난자와 정자의 수정을 통해 후손에게 전달됩니다. 이것은 나를 나타내는 생물학적인 특성과 유전 정보를 담고 있어, 나의 생물학적인 특성을 이어받는 중요한 역할을 합니다.
        <br><br>
        나의 다른 복제자는 바로 나의 밈입니다. 밈은 문화적인 정보의 단위로, 언어, 아이디어, 행동, 관습 등과 같은 형태의 문화적 콘텐츠를 나타냅니다. 나의 밈은 주변 사람들 뿐만 아니라, 수백 년 후의 미래 세대에게도 전달될 수 있는 특별한 성질을 지니고 있습니다.
        <br><br>
        이 공간은 유전 정보에 구애받지 않고, 나의 밈이 자유롭게 전파되는 곳입니다. 언어의 장벽을 넘어 사회 다양한 사람들에게 전달될 수 있습니다. 나의 밈은 시대를 초월하여 미래로 향하는 길에도 계속해서 흘러갈 것입니다.
        <br><br>
        이곳에 나의 복제자를 남겨보세요! 
        이곳은 유전 정보도 필요 없으며 밈은 자유롭습니다!
      </span>
      
    <span class="explain">
        <span class="text-style-1">밈을 만드는 방법 <br><br> </span>
        1. 주제를 선택해요.<br>
        밈을 만들기 전에 어떤 주제로 밈을 만들 것인지 결정하세요.
        내가 관심있는 무언가, 나 자신을 상징할 수 있는 무언가이면 충분합니다. 전달하고 싶은 어떠한 메세지도 좋습니다.
        <br><br>
        2. 이미지 찾기.<br>
         선택한 주제와 관련된 이미지를 찾아야 합니다. 검색창에 필요한 이미지에 대한 키워드를 입력하고 골라봅시다! 컬러팔레트를 이용하여 직접 이미지를 만들어도 됩니다.
      
         <br><br>
        3. 캡션을 달아봐요.<br>
        이미지에 웃긴 또는 특별한 캡션을 추가하세요. 캡션은 밈의 핵심 부분이며, 사람들이 메시지를 이해하고 공유하는 데 중요한 역할을 합니다.
        <br><br>
        4. 편집이 끝나면 ‘save’버튼을 눌러 나의 밈을 MEME PROJECT에 전송해요.
    </span>
    <div class="button_area">
        <button id="button3" type="button">Send</button>
    </div>  
    <div class="sketch">
        <script src="./sketch.js"></script>
    </div>
    <div class="container">
      <input 
      type="file" 
      class="inputFile"
      id="fileInp"
      onchange="getFileTo(event)"
      accept="image/png, image/jpeg"
      />
      <label for ="fileInp">+</label>
      <div id="fileText"></div>
      <button onclick="uploadImage()"> UPLOAD IMAGE </button>
      <div class="bar">
        <div class="progress"></div>
      </div>
      <div class="uploadPercentage">0%</div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js"></script>
      <script>
        const firebaseConfig = {
          apiKey: "AIzaSyDfPi21no_LTdi5szygldb0jF6l_ZDj9HQ",
          authDomain: "memeprojectimage.firebaseapp.com",
          projectId: "memeprojectimage",
          storageBucket: "memeprojectimage.appspot.com",
          messagingSenderId: "483003395248",
          appId: "1:483003395248:web:31c748750795d997ed1f75"
      };
  
      firebase.initializeApp(firebaseConfig);
  
      var fileText=document.getElementById(".fileText");
      var uploadPercentage = document.getElementById(".uploadPercentage");
      var progress = document.getElementById(".progress");
      var percentVal;
      var fileItem;
      var fileName;
  
      function getFileTo(e){
        fileItem = e.target.files[0];
        console.log(fileItem);
        fileName = fileItem.name;
        fileText.innerHTML = fileName;
      }
  
      function uploadImage(){
          let storageRef = firebase.storage().ref('images/'+fileName);
          let uploadTask = storageRef.put(fileItem);
  
          uploadTask.on('state_changed', function(snapshot){
              console.log(snapshot);
              percentVal = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);
              console.log(percentVal);
              uploadPercentage.innerHTML = percentVal + '%';
              progress.style.width = percentVal + '%';
          },(error)=>{
              console.log(error);
          },()=>{
              uploadTask.snapshot.ref.getDownloadURL().then((downloadURL)=>{
                  console.log(downloadURL);
              });
          }
          );
      }
      </script>
    <main>
    <script type="module" src="./imageapi.js"></script>
  </body>
</html>
